process Demo =  {

  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource { untracked vstring fileNames = {
    '/store/unmerged/RelVal/2006/9/24/RelVal101Higgs-ZZ-4Mu/GEN-SIM-DIGI-RECO/0005/E2761B69-084C-DB11-9FE2-000E0C3F06E3.root  '}
    untracked int32 maxEvents = -1
  }

  module out = PoolOutputModule {
    untracked string fileName = "pv_reco.root"
    untracked vstring outputCommands = {
      "drop *",
# Vertices
      "keep *_offlinePrimaryVerticesFromCTFTracks_*_Demo",
      "keep *_offlinePrimaryVerticesFromRSTracks_*_Demo",
# Tracks on input
      "keep recoTracks_ctfWithMaterialTracks_*_*",
      "keep recoTracks_rsWithMaterialTracks_*_*"
    }
  }

  # Offline primary vertex finding from both track types
  include "RecoVertex/PrimaryVertexProducer/data/OfflinePrimaryVerticesFromCTFTracks.cff"
  include "RecoVertex/PrimaryVertexProducer/data/OfflinePrimaryVerticesFromRSTracks.cff"

  module dump = EventContentAnalyzer {}
  service = Tracer { untracked string indention = "$$"}
  path p = { 
             offlinePrimaryVerticesFromCTFTracks, 
             offlinePrimaryVerticesFromRSTracks
#, 
#             dump
           } 

  endpath e = 
  {
    out
  }

} 
