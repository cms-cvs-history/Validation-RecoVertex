process Demo =  {
  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource { untracked vstring fileNames = {
    '/store/unmerged/RelVal/2006/9/24/RelVal101Higgs-ZZ-4Mu/GEN-SIM-DIGI-RECO/0005/E2761B69-084C-DB11-9FE2-000E0C3F06E3.root'}
    untracked int32 maxEvents = -1
  }


  module out = PoolOutputModule 
  {
    untracked string fileName = "pv_reco.root"
    untracked vstring outputCommands = {
      "drop *",
# Sim info
      "keep *_source_*_*",
      "keep SimTracks_g4SimHits_*_*",
      "keep SimVertexs_g4SimHits_*_*",
# Vertices
      "keep *_offlinePrimaryVertices_*_*",
# Tracks on input
      "keep recoTracks_generalTracks_*_*",
    }
  }

  # Offline primary vertex finding from both track types
  include "RecoVertex/Configuration/data/RecoVertex.cff"

  # primary vertex analyzer
  include "Validation/RecoVertex/data/PrimaryVertexAnalyzer.cfi"

  module dump = EventContentAnalyzer {}
  service = Tracer { untracked string indention = "$$"}
  path p = { 
             vertexreco, 
             simpleVertexAnalysis
#, 
#             dump 
           } 

  endpath e = 
  {
    out
  }

} 
